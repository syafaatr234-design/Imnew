-- =========================
-- Load UI Library
-- =========================
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/x2zu/OPEN-SOURCE-UI-ROBLOX/refs/heads/main/X2ZU%20UI%20ROBLOX%20OPEN%20SOURCE/DummyUi-leak-by-x2zu/fetching-main/Tools/Framework.luau"))()

-- =========================
-- Main Window
-- =========================
local Window = Library:Window({
Title = "Evade Hub",
Desc = "Evade Hub on top",
Icon = 105059922903197,
Theme = "Dark",
Config = { Keybind = Enum.KeyCode.LeftControl, Size = UDim2.new(0,500,0,400) },
CloseUIButton = { Enabled=true, Text="Evade Hub" }
})

-- Sidebar line
local SidebarLine = Instance.new("Frame")
SidebarLine.Size = UDim2.new(0,1,1,0)
SidebarLine.Position = UDim2.new(0,140,0,0)
SidebarLine.BackgroundColor3 = Color3.fromRGB(60,60,60)
SidebarLine.BorderSizePixel = 0
SidebarLine.ZIndex = 5
SidebarLine.Parent = game:GetService("CoreGui")

-- Tabs
local SettingsTab = Window:Tab({Title="‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤", Icon="wrench"})
local MainTab     = Window:Tab({Title="‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å", Icon="star"})
local TeleportTab = Window:Tab({Title="‡πÄ‡∏ó‡πÄ‡∏•‡∏û‡∏≠‡∏£‡πå‡∏ï", Icon="navigation"})
local VisualsTab  = Window:Tab({Title="‡∏°‡∏≠‡∏á‡∏ï‡πà‡∏≤‡∏á‡πÜ", Icon="eye"})
local ExtraTab    = Window:Tab({Title="‡∏Ç‡∏≠‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏°", Icon="cat"})
local FPSTab      = Window:Tab({Title="FPS", Icon="speedometer"})
local EventTab    = Window:Tab({Title="‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏≠‡∏µ‡πÄ‡∏ß‡πâ‡∏ô", Icon="calendar"})
local EmoteTab    = Window:Tab({Title="Emote Changer", Icon="player"})

-- Player & GUI
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")

-- Floating GUI
local FloatingGui = PlayerGui:FindFirstChild("EvadeFloatingGui")
if not FloatingGui then
FloatingGui = Instance.new("ScreenGui")
FloatingGui.Name = "EvadeFloatingGui"
FloatingGui.Parent = PlayerGui
FloatingGui.ResetOnSpawn = false
FloatingGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
end

-- =========================
-- Emote Changer
-- =========================
local function SafaatEmoteChanger()
    local Players = game:GetService("Players")
    local ReplicatedStorage = game:GetService("ReplicatedStorage")
    local Workspace = game:GetService("Workspace")
    local LocalPlayer = Players.LocalPlayer

    local currentTag, currentEmotes, selectEmotes, emoteEnabled = nil, {}, {}, {}
    for i = 1, 12 do currentEmotes[i], selectEmotes[i], emoteEnabled[i] = "", "", false end

    local function FindRemotes()
        local Events = ReplicatedStorage:FindFirstChild("Events")
        local CharacterFolder = Events and Events:FindFirstChild("Character")
        local EmoteRemote = CharacterFolder and CharacterFolder:FindFirstChild("Emote")
        local PassCharacterInfo = CharacterFolder and CharacterFolder:FindFirstChild("PassCharacterInfo")
        return EmoteRemote, PassCharacterInfo
    end

    local EmoteRemote, PassCharacterInfo = FindRemotes()

    local function ReadTagFromFolder(folder)
        if not folder then return nil end
        local attributeTag = folder:GetAttribute("Tag")
        if attributeTag ~= nil then return attributeTag end
        local tagChild = folder:FindFirstChild("Tag")
        if tagChild and tagChild:IsA("ValueBase") then return tagChild.Value end
        return nil
    end

    local function OnRespawn()
        repeat task.wait() until Workspace:FindFirstChild("Game") and Workspace.Game:FindFirstChild("Players")
        local playerFolder = Workspace.Game.Players:FindFirstChild(LocalPlayer.Name) or Workspace.Game.Players:WaitForChild(LocalPlayer.Name, 10)
        currentTag = playerFolder and ReadTagFromFolder(playerFolder) or nil
    end

    LocalPlayer.CharacterAdded:Connect(OnRespawn)
    OnRespawn()

    local pendingSlot = nil
    local remoteSignal = PassCharacterInfo and PassCharacterInfo.OnClientEvent

    local function FireSelect(slot)
        if not currentTag or not remoteSignal then return end
        local tagNumber = tonumber(currentTag) or 0
        local bufferData = buffer.create(2)
        buffer.writeu8(bufferData, 0, tagNumber)
        buffer.writeu8(bufferData, 1, 17)
        firesignal(remoteSignal, bufferData, { selectEmotes[slot] })
    end

    if remoteSignal then
        remoteSignal:Connect(function()
            if pendingSlot then
                FireSelect(pendingSlot)
                pendingSlot = nil
            end
        end)
    end

    local oldNamecall
    pcall(function()
        oldNamecall = hookmetamethod(game, "__namecall", function(self, ...)
            local method = getnamecallmethod()
            local args = {...}
            if method == "FireServer" and self == EmoteRemote and type(args[1]) == "string" then
                for i = 1, 12 do
                    if emoteEnabled[i] and currentEmotes[i] ~= "" and args[1] == currentEmotes[i] then
                        pendingSlot = i
                        task.spawn(function()
                            task.wait(0.45)
                            if pendingSlot == i then
                                FireSelect(i)
                                pendingSlot = nil
                            end
                        end)
                        return
                    end
                end
            end
            return oldNamecall(self, ...)
        end)
    end)

    -- UI Elements for Emote Tab
    EmoteTab:Section({Title = "Emote Changer"})
    
    for i = 1, 12 do
        EmoteTab:Textbox({
            Title = "Current Emote " .. i,
            Desc = "Enter current emote name",
            Placeholder = "Emote name",
            Callback = function(value) 
                currentEmotes[i] = value 
            end
        })
        
        EmoteTab:Textbox({
            Title = "Select Emote " .. i,
            Desc = "Enter select emote name", 
            Placeholder = "New emote name",
            Callback = function(value) 
                selectEmotes[i] = value 
            end
        })
    end

    EmoteTab:Button({
        Title = "Apply Emotes",
        Desc = "Apply all emote changes",
        Callback = function()
            for i = 1, 12 do
                emoteEnabled[i] = (currentEmotes[i] ~= "" and selectEmotes[i] ~= "")
            end
            print("Emote mappings applied!")
        end
    })

    local currentCosmetics, selectCosmetics, cosmeticsEnabled = {"",""},{"",""}, {false,false}
    
    EmoteTab:Section({Title = "Cosmetics Changer"})
    
    for i = 1, 2 do
        EmoteTab:Textbox({
            Title = "Current Cosmetic " .. i,
            Desc = "Enter current cosmetic name",
            Placeholder = "Cosmetic name",
            Callback = function(value) 
                currentCosmetics[i] = value 
            end
        })
        
        EmoteTab:Textbox({
            Title = "Select Cosmetic " .. i,
            Desc = "Enter new cosmetic name",
            Placeholder = "New cosmetic name", 
            Callback = function(value) 
                selectCosmetics[i] = value 
            end
        })
    end

    EmoteTab:Button({
        Title = "Apply Cosmetics",
        Desc = "Apply cosmetic changes",
        Callback = function()
            for i = 1, 2 do
                cosmeticsEnabled[i] = (currentCosmetics[i] ~= "" and selectCosmetics[i] ~= "")
                if cosmeticsEnabled[i] then
                    local cosmeticRemote = ReplicatedStorage:FindFirstChild("Events") and ReplicatedStorage.Events:FindFirstChild("Character") and ReplicatedStorage.Events.Character:FindFirstChild("EquipCosmetic")
                    if cosmeticRemote then
                        cosmeticRemote:FireServer(selectCosmetics[i])
                    end
                end
            end
            print("Cosmetics applied!")
        end
    })
end

-- Initialize Emote Changer
SafaatEmoteChanger()

-- =========================
-- Auto Bhop (No Ground Touch)
-- =========================
local autoBhop = false
local floatingBhopButton

-- ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢
local function createBhopFloatingButton()
    if floatingBhopButton then return end
    floatingBhopButton = Instance.new("TextButton")
    floatingBhopButton.Size = UDim2.new(0,120,0,50)
    floatingBhopButton.Position = UDim2.new(0.3,-60,0.8,0)
    floatingBhopButton.AnchorPoint = Vector2.new(0.5,0)
    floatingBhopButton.BackgroundColor3 = Color3.fromRGB(0,170,255)
    floatingBhopButton.TextColor3 = Color3.fromRGB(255,255,255)
    floatingBhopButton.Text = "Auto Bhop: OFF"
    floatingBhopButton.Parent = FloatingGui
    floatingBhopButton.Active = true
    floatingBhopButton.Draggable = true
    floatingBhopButton.MouseButton1Click:Connect(function()
        autoBhop = not autoBhop
        floatingBhopButton.Text = autoBhop and "Auto Bhop: ON" or "Auto Bhop: OFF"
    end)
end

local function removeBhopFloatingButton()
    if floatingBhopButton then
        floatingBhopButton:Destroy()
        floatingBhopButton=nil
    end
end

-- Toggle ‡∏õ‡∏Å‡∏ï‡∏¥‡πÉ‡∏ô MainTab
MainTab:Toggle({
    Title="‡∏≠‡∏≠‡πÇ‡∏ï‡πâ‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î (‡∏õ‡∏Å‡∏ï‡∏¥)",
    Desc="‡πÄ‡∏î‡πâ‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡πÅ‡∏ï‡∏∞‡∏û‡∏∑‡πâ‡∏ô",
    Value=false,
    Callback=function(state)
        autoBhop = state
    end
})

-- Toggle ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢
MainTab:Toggle({
    Title="‡∏≠‡∏≠‡πÇ‡∏ï‡πâ‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î (‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢)",
    Desc="‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Auto Bhop",
    Value=false,
    Callback=function(state)
        if state then createBhopFloatingButton() else removeBhopFloatingButton(); autoBhop=false end
    end
})

-- ‡∏£‡∏∞‡∏ö‡∏ö Auto Bhop ‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡πÅ‡∏ï‡∏∞‡∏û‡∏∑‡πâ‡∏ô
task.spawn(function()
    local RunService = game:GetService("RunService")
    local rayDistance = 4 -- ‡∏£‡∏∞‡∏¢‡∏∞‡πÉ‡∏Å‡∏•‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏î‡πâ‡∏á
    while true do
        RunService.Heartbeat:Wait()
        if autoBhop then
            local char = player.Character
            if char then
                local humanoid = char:FindFirstChildOfClass("Humanoid")
                local root = char:FindFirstChild("HumanoidRootPart")
                if humanoid and root then
                    -- ‡∏¢‡∏¥‡∏á Ray ‡∏•‡∏á‡πÑ‡∏õ‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡πÉ‡∏Å‡∏•‡πâ‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô
                    local rayOrigin = root.Position
                    local rayDir = Vector3.new(0, -rayDistance, 0)
                    local ray = Ray.new(rayOrigin, rayDir)
                    local hit, pos = workspace:FindPartOnRay(ray, char)

                    if hit then
                        -- ‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÅ‡∏ï‡∏∞‡∏û‡∏∑‡πâ‡∏ô
                        humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
                    end
                end
            end
        end
    end
end)

-- =========================
-- Lag Switch
-- =========================
local floatingLagButton
local function lagSwitch(duration)
local start = tick()
while tick()-start < duration do
for i=1,1e7 do local a=math.random() end
end
end

MainTab:Button({
Title="Lag Switch (‡∏õ‡∏Å‡∏ï‡∏¥)",
Desc="‡∏Å‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πâ‡∏≤‡∏á‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡∏Å 0.5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ",
Callback=function() lagSwitch(0.5) end
})

local function createLagFloatingButton()
if floatingLagButton then return end
floatingLagButton = Instance.new("TextButton")
floatingLagButton.Size=UDim2.new(0,100,0,50)
floatingLagButton.Position=UDim2.new(0.7,-50,0.8,0)
floatingLagButton.AnchorPoint=Vector2.new(0.5,0)
floatingLagButton.BackgroundColor3=Color3.fromRGB(255,100,0)
floatingLagButton.TextColor3=Color3.fromRGB(255,255,255)
floatingLagButton.Text="Lag Switch"
floatingLagButton.Parent=FloatingGui
floatingLagButton.Active=true
floatingLagButton.Draggable=true
floatingLagButton.MouseButton1Click:Connect(function() lagSwitch(0.5) end)
end

local function removeLagFloatingButton()
if floatingLagButton then
floatingLagButton:Destroy()
floatingLagButton=nil
end
end

MainTab:Toggle({
Title="Lag Switch (‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢)",
Desc="‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Lag Switch",
Value=false,
Callback=function(state)
if state then createLagFloatingButton() else removeLagFloatingButton() end
end
})

-- =========================
-- Auto Bounce (‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏™‡∏π‡∏á)
-- =========================
local autoBounce = false
local floatingBounceButton
local bouncePower = 100 -- ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡πâ‡∏á
local groundCheckDistance = 6 -- ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ä‡πá‡∏Ñ‡πÉ‡∏Å‡∏•‡πâ‡∏û‡∏∑‡πâ‡∏ô (studs)

task.spawn(function()
    local RunService = game:GetService("RunService")
    while true do
        if autoBounce then
            local char = player.Character
            if char then
                local root = char:FindFirstChild("HumanoidRootPart")
                local humanoid = char:FindFirstChildOfClass("Humanoid")
                if root and humanoid then
                    -- ‡πÉ‡∏ä‡πâ raycast ‡∏ï‡∏£‡∏ß‡∏à‡∏û‡∏∑‡πâ‡∏ô
                    local rayOrigin = root.Position
                    local rayDirection = Vector3.new(0, -groundCheckDistance, 0)
                    local raycastParams = RaycastParams.new()
                    raycastParams.FilterDescendantsInstances = {char}
                    raycastParams.FilterType = Enum.RaycastFilterType.Blacklist

                    local ray = workspace:Raycast(rayOrigin, rayDirection, raycastParams)

                    -- ‡∏ñ‡πâ‡∏≤ raycast ‡πÄ‡∏à‡∏≠‡∏û‡∏∑‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏Å
                    if ray and root.Velocity.Y < 0 then
                        -- ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏£‡∏á‡πÄ‡∏î‡πâ‡∏á‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á/‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÑ‡∏î‡πâ
                        root.Velocity = Vector3.new(root.Velocity.X, bouncePower, root.Velocity.Z)
                    end
                end
            end
        end
        task.wait(0.03) -- ‡∏•‡∏î delay ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÉ‡∏´‡πâ‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô
    end
end)

-- ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏Å‡∏ï‡∏¥
MainTab:Toggle({
    Title="‡∏≠‡∏≠‡πÇ‡∏ï‡πâ‡πÄ‡∏î‡πâ‡∏á (‡∏õ‡∏Å‡∏ï‡∏¥)",
    Desc="‡πÄ‡∏î‡πâ‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏Å‡πÅ‡∏•‡∏∞‡πÉ‡∏Å‡∏•‡πâ‡∏û‡∏∑‡πâ‡∏ô (‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°)",
    Value=false,
    Callback=function(state) autoBounce = state end
})

-- ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢
local function createBounceFloatingButton()
    if floatingBounceButton then return end
    floatingBounceButton = Instance.new("TextButton")
    floatingBounceButton.Size = UDim2.new(0,100,0,50)
    floatingBounceButton.Position = UDim2.new(0.5,-50,0.85,0)
    floatingBounceButton.AnchorPoint = Vector2.new(0.5,0)
    floatingBounceButton.BackgroundColor3 = Color3.fromRGB(255,0,150)
    floatingBounceButton.TextColor3 = Color3.fromRGB(255,255,255)
    floatingBounceButton.Text = autoBounce and "Auto Bounce: ON" or "Auto Bounce: OFF"
    floatingBounceButton.Parent = FloatingGui
    floatingBounceButton.Active = true
    floatingBounceButton.Draggable = true
    floatingBounceButton.MouseButton1Click:Connect(function()
        autoBounce = not autoBounce
        floatingBounceButton.Text = autoBounce and "Auto Bounce: ON" or "Auto Bounce: OFF"
    end)
end

MainTab:Toggle({
    Title="‡∏≠‡∏≠‡πÇ‡∏ï‡πâ‡πÄ‡∏î‡πâ‡∏á (‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢)",
    Desc="‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Auto Bounce (‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°)",
    Value=false,
    Callback=function(state)
        if state then createBounceFloatingButton() else
            if floatingBounceButton then floatingBounceButton:Destroy(); floatingBounceButton=nil end
            autoBounce=false
        end
    end
})

-- =========================
-- Auto Respawn (Fake Revive)
-- =========================
getgenv().AutoRespawnEnabled = false
local autoRespawnMethod = "Fake Revive"
local respawnConnection
local lastSavedPosition
local floatingRespawnButton

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢
local function createRespawnFloatingButton()
    if floatingRespawnButton then return end
    floatingRespawnButton = Instance.new("TextButton")
    floatingRespawnButton.Size = UDim2.new(0,120,0,50)
    floatingRespawnButton.Position = UDim2.new(0.8,0,0.8,0)
    floatingRespawnButton.BackgroundColor3 = Color3.fromRGB(255,80,80)
    floatingRespawnButton.TextColor3 = Color3.new(1,1,1)
    floatingRespawnButton.Font = Enum.Font.GothamBold
    floatingRespawnButton.Text = "Auto Respawn"
    floatingRespawnButton.Parent = FloatingGui -- ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ FloatingGui ‡πÉ‡∏ô‡πÄ‡∏Å‡∏°
    floatingRespawnButton.ZIndex = 10
    floatingRespawnButton.Active = true
    floatingRespawnButton.Draggable = true
    floatingRespawnButton.MouseButton1Click:Connect(function()
        getgenv().AutoRespawnEnabled = not getgenv().AutoRespawnEnabled
        floatingRespawnButton.BackgroundColor3 = getgenv().AutoRespawnEnabled and Color3.fromRGB(80,255,80) or Color3.fromRGB(255,80,80)
    end)
end

local function removeRespawnFloatingButton()
    if floatingRespawnButton then
        floatingRespawnButton:Destroy()
        floatingRespawnButton = nil
    end
end

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Auto Revive ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£
local function setupAutoRevive(character)
    task.defer(function()
        character:WaitForChild("HumanoidRootPart",5)
        character:WaitForChild("Humanoid",5)
        -- ‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
        task.spawn(function()
            while character and character.Parent do
                local hrp = character:FindFirstChild("HumanoidRootPart")
                if hrp then
                    character:SetAttribute("LastPosition", hrp.Position)
                end
                task.wait(0.2)
            end
        end)

        -- ‡∏ï‡∏£‡∏ß‡∏à Downed
        character:GetAttributeChangedSignal("Downed"):Connect(function()
            if not getgenv().AutoRespawnEnabled then return end
            if character:GetAttribute("Downed") ~= true then return end
            if autoRespawnMethod ~= "Fake Revive" then return end

            local hrp = character:FindFirstChild("HumanoidRootPart")
            if hrp then lastSavedPosition = hrp.Position end

            task.wait(3)
            local start = tick()
            repeat
                pcall(function()
                    game:GetService("ReplicatedStorage"):WaitForChild("Events",9e9)
                        :WaitForChild("Player",9e9)
                        :WaitForChild("ChangePlayerMode",9e9)
                        :FireServer(true)
                end)
                task.wait(1)
            until character:GetAttribute("Downed") ~= true or tick() - start > 1

            local newChar
            repeat
                newChar = game:GetService("Players").LocalPlayer.Character
                task.wait()
            until newChar and newChar:FindFirstChild("HumanoidRootPart")

            local newHRP = newChar:FindFirstChild("HumanoidRootPart")
            if lastSavedPosition and newHRP then
                newHRP.CFrame = CFrame.new(lastSavedPosition)
                task.wait(0.5)
            end
        end)
    end)
end

-- ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å setup ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡πÉ‡∏´‡∏°‡πà
local player = game:GetService("Players").LocalPlayer
if player.Character then setupAutoRevive(player.Character) end
player.CharacterAdded:Connect(setupAutoRevive)

-- =========================
-- ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏Å‡∏ï‡∏¥‡πÉ‡∏ô MainTab
-- =========================
MainTab:Toggle({
    Title="‡∏≠‡∏≠‡πÇ‡∏ï‡πâ‡∏£‡∏µ‡∏™‡∏õ‡∏≠‡∏ô (‡∏õ‡∏Å‡∏ï‡∏¥)",
    Desc="Respawn ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏õ‡∏¥‡∏î",
    Value=false,
    Callback=function(state)
        getgenv().AutoRespawnEnabled = state

        if respawnConnection then
            respawnConnection:Disconnect()
            respawnConnection = nil
        end

        if state then
            -- ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å setupAutoRevive ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
            if player.Character then setupAutoRevive(player.Character) end
        end
    end
})

-- =========================
-- Dropdown: ‡∏ß‡∏¥‡∏ò‡∏µ‡∏£‡∏µ‡∏™‡∏õ‡∏≠‡∏ô
-- =========================
MainTab:Dropdown({
    Title="‡∏ß‡∏¥‡∏ò‡∏µ‡∏£‡∏µ‡∏™‡∏õ‡∏≠‡∏ô",
    Options={"Random","Fake Revive"},
    CurrentOption={autoRespawnMethod},
    MultipleOptions=false,
    Callback=function(opt)
        autoRespawnMethod = opt[1]
    end
})

-- =========================
-- ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢
-- =========================
MainTab:Toggle({
    Title="‡∏≠‡∏≠‡πÇ‡∏ï‡πâ‡∏£‡∏µ‡∏™‡∏õ‡∏≠‡∏ô (‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢)",
    Desc="‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Auto Respawn",
    Value=false,
    Callback=function(state)
        if state then createRespawnFloatingButton() else
            removeRespawnFloatingButton()
            getgenv().AutoRespawnEnabled = false
        end
    end
})

-- =========================
-- Teleport Roof
-- =========================
local floatingTPButton
local function teleportRoof()
local root = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
if root then root.CFrame += Vector3.new(0,500,0) end
end

TeleportTab:Button({
Title="‡πÄ‡∏ó‡πÄ‡∏•‡∏û‡∏≠‡∏£‡πå‡∏ï‡∏Ç‡∏∂‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏Ñ‡∏≤ (‡∏õ‡∏Å‡∏ï‡∏¥)",
Desc="‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡∏∂‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏Ñ‡∏≤",
Callback=teleportRoof
})

local function createTPFloatingButton()
if floatingTPButton then return end
floatingTPButton = Instance.new("TextButton")
floatingTPButton.Size=UDim2.new(0,100,0,50)
floatingTPButton.Position=UDim2.new(0.5,-50,0.6,0)
floatingTPButton.AnchorPoint=Vector2.new(0.5,0)
floatingTPButton.BackgroundColor3=Color3.fromRGB(0,255,100)
floatingTPButton.TextColor3=Color3.fromRGB(0,0,0)
floatingTPButton.Text="TP Roof"
floatingTPButton.Parent=FloatingGui
floatingTPButton.Active=true
floatingTPButton.Draggable=true
floatingTPButton.MouseButton1Click:Connect(teleportRoof)
end

TeleportTab:Toggle({
Title="‡πÄ‡∏ó‡πÄ‡∏•‡∏û‡∏≠‡∏£‡πå‡∏ï‡∏Ç‡∏∂‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏Ñ‡∏≤ (‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢)",
Desc="‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Teleport Roof",
Value=false,
Callback=function(state)
if state then createTPFloatingButton() else
if floatingTPButton then floatingTPButton:Destroy(); floatingTPButton=nil end
end
end
})

-- =========================
-- AFK Money
-- =========================
local floatingAFKButton
local AFKActive=false
local function afkMoneyLoop()
task.spawn(function()
while AFKActive do
local root = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
if root then
root.Anchored=true
root.CFrame= CFrame.new(root.Position.X,1300,root.Position.Z)
end
task.wait(1)
end
local root = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
if root then root.Anchored=false end
end)
end

local function createAFKFloatingButton()
if floatingAFKButton then return end
floatingAFKButton = Instance.new("TextButton")
floatingAFKButton.Size=UDim2.new(0,100,0,50)
floatingAFKButton.Position=UDim2.new(0.5,-50,0.7,0)
floatingAFKButton.AnchorPoint=Vector2.new(0.5,0)
floatingAFKButton.BackgroundColor3=Color3.fromRGB(255,255,0)
floatingAFKButton.TextColor3=Color3.fromRGB(0,0,0)
floatingAFKButton.Text="AFK Money"
floatingAFKButton.Parent=FloatingGui
floatingAFKButton.Active=true
floatingAFKButton.Draggable=true
floatingAFKButton.MouseButton1Click:Connect(function()
AFKActive = not AFKActive
afkMoneyLoop()
end)
end

TeleportTab:Button({
Title="AFK Money (‡∏õ‡∏Å‡∏ï‡∏¥)",
Desc="‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏≠‡∏≤‡∏Å‡∏≤‡∏® 1300",
Callback=function()
AFKActive = not AFKActive
afkMoneyLoop()
end
})

TeleportTab:Toggle({
Title="AFK Money (‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢)",
Desc="‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö AFK Money",
Value=false,
Callback=function(state)
if state then createAFKFloatingButton() else
if floatingAFKButton then floatingAFKButton:Destroy(); floatingAFKButton=nil end
AFKActive=false
local root = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
if root then root.Anchored=false end
end
end
})

-- =========================
-- Teleport to Dead Player 1s
-- =========================
local floatingDeadTPButton
local function teleportToDead()
local char = player.Character
if not char then return end
local root = char:FindFirstChild("HumanoidRootPart")
if not root then return end
local deadPlayer=nil
for _,plr in pairs(Players:GetPlayers()) do
local h = plr.Character and plr.Character:FindFirstChildOfClass("Humanoid")
if h and h.Health==0 then
deadPlayer=plr
break
end
end
if deadPlayer and deadPlayer.Character and deadPlayer.Character:FindFirstChild("HumanoidRootPart") then
local originalCFrame=root.CFrame
root.CFrame = deadPlayer.Character.HumanoidRootPart.CFrame
task.wait(1)
root.CFrame=originalCFrame
end
end

TeleportTab:Button({
Title="‡πÑ‡∏õ‡∏´‡∏≤‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏° (‡∏õ‡∏Å‡∏ï‡∏¥)",
Desc="‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏° 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ",
Callback=teleportToDead
})

local function createDeadTPFloatingButton()
if floatingDeadTPButton then return end
floatingDeadTPButton = Instance.new("TextButton")
floatingDeadTPButton.Size=UDim2.new(0,100,0,50)
floatingDeadTPButton.Position=UDim2.new(0.5,-50,0.8,0)
floatingDeadTPButton.AnchorPoint=Vector2.new(0.5,0)
floatingDeadTPButton.BackgroundColor3=Color3.fromRGB(0,255,255)
floatingDeadTPButton.TextColor3=Color3.fromRGB(0,0,0)
floatingDeadTPButton.Text="Dead TP"
floatingDeadTPButton.Parent=FloatingGui
floatingDeadTPButton.Active=true
floatingDeadTPButton.Draggable=true
floatingDeadTPButton.MouseButton1Click:Connect(teleportToDead)
end

TeleportTab:Toggle({
Title="‡πÑ‡∏õ‡∏´‡∏≤‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏° (‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢)",
Desc="‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Dead TP",
Value=false,
Callback=function(state)
if state then createDeadTPFloatingButton() else
if floatingDeadTPButton then floatingDeadTPButton:Destroy(); floatingDeadTPButton=nil end
end
end
})

-- =========================
-- Wall Hack (‡∏ó‡∏∞‡∏•‡∏∏‡∏Å‡∏≥‡πÅ‡∏û‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤/‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏à‡∏£‡∏¥‡∏á)
-- =========================
local wallHackActive = false
local floatingWallButton
local wallPartsOriginalCollide = {} -- ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡πà‡∏≤ CanCollide ‡πÄ‡∏î‡∏¥‡∏°

local function setWallHack(state)
    wallHackActive = state
    if not wallHackActive then
        -- ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡πà‡∏≤ CanCollide ‡∏ó‡∏∏‡∏Å‡∏ä‡∏¥‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏à‡∏≥‡πÑ‡∏ß‡πâ
        for part, collide in pairs(wallPartsOriginalCollide) do
            if part and part.Parent then
                part.CanCollide = collide
            end
        end
        wallPartsOriginalCollide = {}
    end
end

local function toggleWallHack()
    setWallHack(not wallHackActive)
    if floatingWallButton then
        floatingWallButton.Text = wallHackActive and "Wall Hack: ON" or "Wall Hack: OFF"
    end
end

task.spawn(function()
    while true do
        if wallHackActive then
            local char = player.Character
            if char then
                local root = char:FindFirstChild("HumanoidRootPart")
                if root then
                    local origin = root.Position
                    local forwardDir = root.CFrame.LookVector -- ‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£
                    for _, part in pairs(workspace:GetDescendants()) do
                        if part:IsA("BasePart") then
                            local toPart = part.Position - origin
                            local forwardDist = forwardDir:Dot(toPart)
                            local horizontalDist = (Vector3.new(toPart.X,0,toPart.Z)).Magnitude
                            local verticalDist = toPart.Y
                            -- ‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Å‡∏≥‡πÅ‡∏û‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤/‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏á ‡πÑ‡∏°‡πà‡∏£‡∏ß‡∏°‡∏û‡∏∑‡πâ‡∏ô/‡πÄ‡∏û‡∏î‡∏≤‡∏ô
                            if forwardDist > 0 and forwardDist < 5 and horizontalDist < 3 and verticalDist > -2 and verticalDist < 5 then
                                if wallPartsOriginalCollide[part] == nil then
                                    wallPartsOriginalCollide[part] = part.CanCollide
                                end
                                part.CanCollide = false
                            end
                        end
                    end
                end
            end
        end
        task.wait(0.05)
    end
end)

-- ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢ Wall Hack
local function createWallFloatingButton()
    if floatingWallButton then return end
    floatingWallButton = Instance.new("TextButton")
    floatingWallButton.Size = UDim2.new(0,100,0,50)
    floatingWallButton.Position = UDim2.new(0.2,-50,0.6,0)
    floatingWallButton.AnchorPoint = Vector2.new(0.5,0)
    floatingWallButton.BackgroundColor3 = Color3.fromRGB(100,255,100)
    floatingWallButton.TextColor3 = Color3.fromRGB(0,0,0)
    floatingWallButton.Text = wallHackActive and "Wall Hack: ON" or "Wall Hack: OFF"
    floatingWallButton.Parent = FloatingGui
    floatingWallButton.Active = true
    floatingWallButton.Draggable = true
    floatingWallButton.MouseButton1Click:Connect(toggleWallHack)
end

-- ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏Å‡∏ï‡∏¥
ExtraTab:Button({
    Title="Wall Hack (‡∏õ‡∏Å‡∏ï‡∏¥)",
    Desc="‡∏ó‡∏∞‡∏•‡∏∏‡∏Å‡∏≥‡πÅ‡∏û‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤/‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏à‡∏£‡∏¥‡∏á",
    Callback=toggleWallHack
})

-- ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢
ExtraTab:Toggle({
    Title="Wall Hack (‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢)",
    Desc="‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Wall Hack",
    Value=false,
    Callback=function(state)
        if state then
            createWallFloatingButton()
        else
            if floatingWallButton then
                floatingWallButton:Destroy()
                floatingWallButton = nil
            end
            setWallHack(false)
        end
    end
})

-- =========================
-- Teleport To Player (‡∏õ‡∏Å‡∏ï‡∏¥ + ‡∏•‡∏≠‡∏¢)
-- =========================
local floatingTPPlayerButton
local function teleportToPlayer(targetPlayer)
local char = player.Character
if not char then return end
local root = char:FindFirstChild("HumanoidRootPart")
if not root then return end
if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
root.CFrame = targetPlayer.Character.HumanoidRootPart.CFrame
end
end

local function createTPPlayerMenu()
-- ‡∏™‡∏£‡πâ‡∏≤‡∏á UI ‡πÅ‡∏ö‡∏ö Simple Folder / Frame
local menuGui = PlayerGui:FindFirstChild("TPPlayerMenu")
if menuGui then menuGui:Destroy() end

menuGui = Instance.new("ScreenGui")  
menuGui.Name = "TPPlayerMenu"  
menuGui.Parent = PlayerGui  
menuGui.ResetOnSpawn = false  

local frame = Instance.new("Frame")  
frame.Size = UDim2.new(0,200,0,300)  
frame.Position = UDim2.new(0.5,-100,0.3,0)  
frame.BackgroundColor3 = Color3.fromRGB(50,50,50)  
frame.Parent = menuGui  

local layout = Instance.new("UIListLayout")  
layout.Parent = frame  
layout.SortOrder = Enum.SortOrder.LayoutOrder  
layout.Padding = UDim.new(0,5)  

for _, plr in pairs(Players:GetPlayers()) do  
    if plr ~= player then  
        local btn = Instance.new("TextButton")  
        btn.Size = UDim2.new(1,0,0,30)  
        btn.Text = plr.Name  
        btn.BackgroundColor3 = Color3.fromRGB(100,100,255)  
        btn.TextColor3 = Color3.fromRGB(255,255,255)  
        btn.Parent = frame  
        btn.MouseButton1Click:Connect(function()  
            teleportToPlayer(plr)  
            menuGui:Destroy()  
        end)  
    end  
end

end

-- ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏Å‡∏ï‡∏¥
TeleportTab:Button({
Title="TeleTo Player (‡∏õ‡∏Å‡∏ï‡∏¥)",
Desc="‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏ó‡πÄ‡∏•‡∏û‡∏≠‡∏£‡πå‡∏ï‡πÑ‡∏õ‡∏´‡∏≤",
Callback=createTPPlayerMenu
})

-- ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢
local function createFloatingTPPlayerButton()
if floatingTPPlayerButton then return end
floatingTPPlayerButton = Instance.new("TextButton")
floatingTPPlayerButton.Size = UDim2.new(0,120,0,50)
floatingTPPlayerButton.Position = UDim2.new(0.5,-60,0.75,0)
floatingTPPlayerButton.AnchorPoint = Vector2.new(0.5,0)
floatingTPPlayerButton.BackgroundColor3 = Color3.fromRGB(150,0,255)
floatingTPPlayerButton.TextColor3 = Color3.fromRGB(255,255,255)
floatingTPPlayerButton.Text = "TeleTo Player"
floatingTPPlayerButton.Parent = FloatingGui
floatingTPPlayerButton.Active = true
floatingTPPlayerButton.Draggable = true
floatingTPPlayerButton.MouseButton1Click:Connect(createTPPlayerMenu)
end

TeleportTab:Toggle({
Title="TeleTo Player (‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢)",
Desc="‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö TeleTo Player",
Value=false,
Callback=function(state)
if state then createFloatingTPPlayerButton() else
if floatingTPPlayerButton then floatingTPPlayerButton:Destroy(); floatingTPPlayerButton=nil end
end
end
})

-- =========================
-- Moon Mode (‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏Å‡∏ï‡∏¥ + ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢)
-- =========================
local moonModeActive = false
local floatingMoonButton

local function toggleMoonMode()
moonModeActive = not moonModeActive
if floatingMoonButton then
floatingMoonButton.Text = moonModeActive and "Moon Mode: ON" or "Moon Mode: OFF"
end
end

task.spawn(function()
while true do
if moonModeActive then
local char = player.Character
if char then
local root = char:FindFirstChild("HumanoidRootPart")
local humanoid = char:FindFirstChildOfClass("Humanoid")
if root and humanoid then
if humanoid.FloorMaterial == Enum.Material.Air and root.Velocity.Y < 0 then
root.Velocity = Vector3.new(root.Velocity.X, root.Velocity.Y * 0.3, root.Velocity.Z)
end
end
end
end
task.wait(0.05)
end
end)

local function createMoonFloatingButton()
if floatingMoonButton then return end
floatingMoonButton = Instance.new("TextButton")
floatingMoonButton.Size = UDim2.new(0,100,0,50)
floatingMoonButton.Position = UDim2.new(0.8,-50,0.6,0)
floatingMoonButton.AnchorPoint = Vector2.new(0.5,0)
floatingMoonButton.BackgroundColor3 = Color3.fromRGB(100,100,255)
floatingMoonButton.TextColor3 = Color3.fromRGB(255,255,255)
floatingMoonButton.Text = moonModeActive and "Moon Mode: ON" or "Moon Mode: OFF"
floatingMoonButton.Parent = FloatingGui
floatingMoonButton.Active = true
floatingMoonButton.Draggable = true
floatingMoonButton.MouseButton1Click:Connect(toggleMoonMode)
end

ExtraTab:Button({
Title="Moon Mode (‡∏õ‡∏Å‡∏ï‡∏¥)",
Desc="‡∏ï‡∏Å‡∏ä‡πâ‡∏≤‡πÜ‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏π‡∏á ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡πÅ‡∏Ç‡πá‡∏á‡∏ï‡∏±‡∏ß",
Callback=toggleMoonMode
})

ExtraTab:Toggle({
Title="Moon Mode (‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢)",
Desc="‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Moon Mode",
Value=false,
Callback=function(state)
if state then createMoonFloatingButton() else
if floatingMoonButton then floatingMoonButton:Destroy(); floatingMoonButton=nil end
moonModeActive=false
end
end
})

-- =========================
-- Extra Tab - Run External Script
-- =========================
ExtraTab:Button({
Title = "Run External Script",
Desc = "‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ô‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏à‡∏≤‡∏Å Pastebin",
Callback = function()
local success, err = pcall(function()
loadstring(game:HttpGet("https://pastebin.com/raw/GHDdPh2c"))()
end)
if not success then
warn("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå: "..tostring(err))
end
end
})

-- =========================
-- Player ESP (Visuals)
-- =========================
local playerESPActive = false
local ESPBoxes = {}

local function createESPForPlayer(targetPlayer)
    if targetPlayer == player then return end
    local char = targetPlayer.Character
    if not char then return end

    local head = char:FindFirstChild("Head")
    local root = char:FindFirstChild("HumanoidRootPart")
    if not head or not root then return end

    -- TextLabel ‡∏ö‡∏ô‡∏´‡∏±‡∏ß
    local billboard = Instance.new("BillboardGui")
    billboard.Name = "ESPBillboard"
    billboard.Adornee = head
    billboard.Size = UDim2.new(0,200,0,50)
    billboard.StudsOffset = Vector3.new(0,2,0)
    billboard.AlwaysOnTop = true
    billboard.Parent = head

    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1,0,1,0)
    label.BackgroundTransparency = 1
    label.TextColor3 = Color3.fromRGB(255,255,255)
    label.TextStrokeTransparency = 0
    label.Font = Enum.Font.SourceSansBold
    label.TextScaled = true
    label.Text = targetPlayer.Name
    label.Parent = billboard

    -- Box ‡∏£‡∏≠‡∏ö‡∏ï‡∏±‡∏ß
    local box = Instance.new("BoxHandleAdornment")
    box.Adornee = root
    box.Size = root.Size
    box.Color = BrickColor.new("White")
    box.AlwaysOnTop = true
    box.ZIndex = 5
    box.Parent = root

    ESPBoxes[targetPlayer] = {Billboard=billboard, Box=box}
end

local function removeESPForPlayer(targetPlayer)
    if ESPBoxes[targetPlayer] then
        if ESPBoxes[targetPlayer].Billboard then ESPBoxes[targetPlayer].Billboard:Destroy() end
        if ESPBoxes[targetPlayer].Box then ESPBoxes[targetPlayer].Box:Destroy() end
        ESPBoxes[targetPlayer] = nil
    end
end

local function togglePlayerESP(state)
    playerESPActive = state
    if state then
        for _, plr in pairs(Players:GetPlayers()) do
            createESPForPlayer(plr)
        end
    else
        for plr, _ in pairs(ESPBoxes) do
            removeESPForPlayer(plr)
        end
    end
end

-- Update ESP ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏≠‡∏Å
Players.PlayerAdded:Connect(function(plr)
    if playerESPActive then
        plr.CharacterAdded:Connect(function()
            createESPForPlayer(plr)
        end)
    end
end)

Players.PlayerRemoving:Connect(function(plr)
    removeESPForPlayer(plr)
end)

-- =========================
-- ‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏ô VisualsTab
-- =========================
VisualsTab:Toggle({
    Title="‡∏°‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô",
    Desc="‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏ô‡∏´‡∏±‡∏ß‡πÅ‡∏•‡∏∞‡∏Å‡∏£‡∏≠‡∏ö‡∏£‡∏≠‡∏ö‡∏•‡∏≥‡∏ï‡∏±‡∏ß",
    Value=false,
    Callback=togglePlayerESP
})

-- =========================
-- Smooth Dash (‡πÅ‡∏Å‡πâ‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏≠‡∏≤‡∏Å‡∏≤‡∏®)
-- =========================
local dashEnabled = false
local dashSpeed = 50 -- ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
local floatingDashButton
local dashVelocity = nil

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏õ‡∏¥‡∏î Dash
local function startDash()
    if dashVelocity then return end
    local char = player.Character
    if not char then return end
    local root = char:FindFirstChild("HumanoidRootPart")
    if not root then return end

    dashVelocity = Instance.new("BodyVelocity")
    dashVelocity.MaxForce = Vector3.new(400000, 0, 400000)
    dashVelocity.P = 1250
    dashVelocity.Parent = root

    -- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢ ‡πÜ
    task.spawn(function()
        while dashEnabled and dashVelocity and dashVelocity.Parent do
            local cam = workspace.CurrentCamera
            if cam and root then
                local dir = cam.CFrame.LookVector
                dir = Vector3.new(dir.X, 0, dir.Z)
                if dir.Magnitude > 0 then dir = dir.Unit end
                dashVelocity.Velocity = dir * dashSpeed
            end
            task.wait(0.03)
        end
        if dashVelocity then
            dashVelocity:Destroy()
            dashVelocity = nil
        end
    end)
end

-- =========================
-- GUI Toggle
SettingsTab:Toggle({
    Title="Smooth Dash (‡∏õ‡∏Å‡∏ï‡∏¥)",
    Desc="‡∏û‡∏∏‡πà‡∏á‡∏ï‡∏≤‡∏°‡∏°‡∏∏‡∏°‡∏°‡∏≠‡∏á‡πÅ‡∏ö‡∏ö‡∏•‡∏∑‡πà‡∏ô ‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡∏Å",
    Value=false,
    Callback=function(state)
        dashEnabled = state
        if state then
            startDash()
        elseif dashVelocity then
            dashVelocity:Destroy()
            dashVelocity = nil
        end
    end
})

-- TextBox ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß
SettingsTab:Textbox({
    Title="Dash Speed",
    Desc="‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß Dash",
    Placeholder=tostring(dashSpeed),
    Callback=function(txt)
        local num = tonumber(txt)
        if num then dashSpeed = num end
    end
})

-- =========================
-- ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢
local function createFloatingDashButton()
    if floatingDashButton then return end
    floatingDashButton = Instance.new("TextButton")
    floatingDashButton.Size = UDim2.new(0,120,0,50)
    floatingDashButton.Position = UDim2.new(0.5,-60,0.3,0)
    floatingDashButton.AnchorPoint = Vector2.new(0.5,0)
    floatingDashButton.BackgroundColor3 = Color3.fromRGB(0,170,255)
    floatingDashButton.TextColor3 = Color3.fromRGB(255,255,255)
    floatingDashButton.Text = dashEnabled and "Dash: ON" or "Dash: OFF"
    floatingDashButton.Parent = FloatingGui
    floatingDashButton.Active = true
    floatingDashButton.Draggable = true

    floatingDashButton.MouseButton1Click:Connect(function()
        dashEnabled = not dashEnabled
        floatingDashButton.Text = dashEnabled and "Dash: ON" or "Dash: OFF"
        if dashEnabled then
            startDash()
        elseif dashVelocity then
            dashVelocity:Destroy()
            dashVelocity = nil
        end
    end)
end

SettingsTab:Toggle({
    Title="Smooth Dash (‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢)",
    Desc="‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Smooth Dash",
    Value=false,
    Callback=function(state)
        if state then
            createFloatingDashButton()
        else
            if floatingDashButton then
                floatingDashButton:Destroy()
                floatingDashButton = nil
            end
            dashEnabled = false
            if dashVelocity then
                dashVelocity:Destroy()
                dashVelocity = nil
            end
        end
    end
})

-- =========================
-- ‡∏õ‡∏∏‡πà‡∏° ‡∏°‡∏≠‡∏á‡∏ï‡∏±‡πã‡∏ß (ESP Ticket)
-- =========================
EventTab:Toggle({
    Title = "‡∏°‡∏≠‡∏á‡∏ï‡∏±‡πã‡∏ß (ESP Ticket)",
    Desc = "‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ï‡∏±‡πã‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡πÅ‡∏°‡∏û",
    Value = false,
    Callback = function(state)
        local Players = game:GetService("Players")
        local LocalPlayer = Players.LocalPlayer
        local ticketESPThread

        local function getDistance(pos)
            local char = LocalPlayer.Character
            local hrp = char and char:FindFirstChild("HumanoidRootPart")
            return hrp and (pos - hrp.Position).Magnitude or nil
        end

        local function createESP(part)
            local billboard = Instance.new("BillboardGui")
            billboard.Name = "TicketESP"
            billboard.Adornee = part
            billboard.Size = UDim2.new(0, 180, 0, 25)
            billboard.StudsOffset = Vector3.new(0, 3.2, 0)
            billboard.AlwaysOnTop = true
            billboard.LightInfluence = 0
            billboard.Parent = part

            local label = Instance.new("TextLabel")
            label.Name = "Ticket"
            label.Size = UDim2.new(1, 0, 1, 0)
            label.BackgroundTransparency = 1
            label.TextStrokeTransparency = 0.25
            label.TextScaled = true
            label.Font = Enum.Font.GothamSemibold
            label.TextColor3 = Color3.fromRGB(255, 255, 150) -- ‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏≠‡πà‡∏≠‡∏ô
            label.Text = "Ticket"
            label.Parent = billboard

            return billboard
        end

        local function removeAllTicketESP()
            local ticketFolder = workspace:FindFirstChild("Game") 
                and workspace.Game:FindFirstChild("Effects") 
                and workspace.Game.Effects:FindFirstChild("Tickets")
            if ticketFolder then
                for _, ticketModel in ipairs(ticketFolder:GetChildren()) do
                    if ticketModel:IsA("Model") then
                        local part = ticketModel:FindFirstChildWhichIsA("BasePart")
                        if part then
                            local existing = part:FindFirstChild("TicketESP")
                            if existing then existing:Destroy() end
                        end
                    end
                end
            end
        end

        if state then
            -- ‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏∞‡∏ö‡∏ö ESP
            ticketESPThread = task.spawn(function()
                while state do
                    local ticketFolder = workspace:FindFirstChild("Game") 
                        and workspace.Game:FindFirstChild("Effects") 
                        and workspace.Game.Effects:FindFirstChild("Tickets")
                    if ticketFolder then
                        for _, ticketModel in ipairs(ticketFolder:GetChildren()) do
                            if ticketModel:IsA("Model") then
                                local part = ticketModel:FindFirstChildWhichIsA("BasePart")
                                if part then
                                    local billboard = part:FindFirstChild("TicketESP") or createESP(part)
                                    local label = billboard and billboard:FindFirstChild("Ticket")
                                    if label then
                                        local dist = getDistance(part.Position)
                                        if dist then
                                            label.Text = string.format("%s\n%.0f studs", ticketModel.Name, dist)
                                        else
                                            label.Text = ticketModel.Name
                                        end
                                    end
                                end
                            end
                        end
                    end
                    task.wait(0.5)
                end
            end)
        else
            -- ‡∏õ‡∏¥‡∏î‡∏£‡∏∞‡∏ö‡∏ö ESP
            removeAllTicketESP()
        end
    end
})

-- =========================
-- ‡∏õ‡∏∏‡πà‡∏° ‡∏°‡∏≠‡∏á‡πÄ‡∏ô‡πá‡∏Å‡∏ö‡∏≠‡∏ó (ESP Nextbot)
-- =========================
VisualsTab:Button({
    Title = "‡∏°‡∏≠‡∏á‡πÄ‡∏ô‡πá‡∏Å‡∏ö‡∏≠‡∏ó",
    Desc = "‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î ESP Nextbot",
    Callback = function()
        local LocalPlayer = game:GetService("Players").LocalPlayer

        -- ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
        if _G.NextbotESPEnabled then
            -- ‡∏õ‡∏¥‡∏î ESP
            _G.NextbotESPEnabled = false
            if _G.NextbotESPThread and coroutine.status(_G.NextbotESPThread) ~= "dead" then
                coroutine.close(_G.NextbotESPThread)
                _G.NextbotESPThread = nil
            end

            -- ‡∏•‡∏ö ESP ‡∏ó‡∏∏‡∏Å‡∏≠‡∏±‡∏ô
            local folder = workspace:FindFirstChild("Game") and workspace.Game:FindFirstChild("Players")
            if folder then
                for _, npc in ipairs(folder:GetChildren()) do
                    local part = (npc:IsA("Model") and (npc:FindFirstChild("Root") or npc:FindFirstChild("Head") or npc:FindFirstChild("HumanoidRootPart") or npc:FindFirstChildWhichIsA("BasePart"))) or nil
                    if part then
                        local esp = part:FindFirstChild("NextbotESP")
                        if esp then esp:Destroy() end
                    end
                end
            end

            print("üõë ESP Nextbot ‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß")
        else
            -- ‡πÄ‡∏õ‡∏¥‡∏î ESP
            _G.NextbotESPEnabled = true

            _G.NextbotESPThread = coroutine.create(function()
                while _G.NextbotESPEnabled do
                    local folder = workspace:FindFirstChild("Game") and workspace.Game:FindFirstChild("Players")
                    if folder then
                        for _, npc in ipairs(folder:GetChildren()) do
                            if npc:GetAttribute("Team") == "Nextbot" then
                                local part = (npc:IsA("Model") and (npc:FindFirstChild("Root") or npc:FindFirstChild("Head") or npc:FindFirstChild("HumanoidRootPart") or npc:FindFirstChildWhichIsA("BasePart"))) or nil
                                if part then
                                    local billboard = part:FindFirstChild("NextbotESP")
                                    if not billboard then
                                        billboard = Instance.new("BillboardGui")
                                        billboard.Name = "NextbotESP"
                                        billboard.Adornee = part
                                        billboard.Size = UDim2.new(0, 180, 0, 25)
                                        billboard.StudsOffset = Vector3.new(0, 3.2, 0)
                                        billboard.AlwaysOnTop = true
                                        billboard.LightInfluence = 0
                                        billboard.Parent = part

                                        local label = Instance.new("TextLabel")
                                        label.Name = "Label"
                                        label.Size = UDim2.new(1, 0, 1, 0)
                                        label.BackgroundTransparency = 1
                                        label.TextStrokeTransparency = 0.25
                                        label.TextScaled = true
                                        label.Font = Enum.Font.GothamSemibold
                                        label.TextColor3 = Color3.fromRGB(255, 255, 255)
                                        label.Parent = billboard
                                    end

                                    local label = billboard:FindFirstChild("Label")
                                    if label then
                                        local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
                                        local dist = hrp and (part.Position - hrp.Position).Magnitude or nil
                                        if dist then
                                            label.Text = string.format("%s\n%.0f studs", npc.Name, dist)
                                            -- ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏µ‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á
                                            if dist <= 12 then
                                                label.TextColor3 = Color3.fromRGB(50, 50, 50)
                                            elseif dist <= 60 then
                                                local t = (dist - 6) / 14
                                                label.TextColor3 = Color3.fromRGB(255, 120 + (255 - 120) * t, 120)
                                            else
                                                label.TextColor3 = Color3.fromRGB(200, 150, 255)
                                            end
                                        else
                                            label.Text = npc.Name
                                            label.TextColor3 = Color3.fromRGB(255, 255, 255)
                                        end
                                    end
                                end
                            end
                        end
                    end
                    task.wait(0.5)
                end
            end)
            coroutine.resume(_G.NextbotESPThread)
            print("‚úÖ ESP Nextbot ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß")
        end
    end
})

-- =========================
-- ‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏™‡∏î‡∏á FPS
-- =========================
FPSTab:Button({
    Title = "‡πÅ‡∏™‡∏î‡∏á FPS",
    Desc = "‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á FPS",
    Callback = function()
        local player = game.Players.LocalPlayer
        local playerGui = player:WaitForChild("PlayerGui")

        -- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏´‡∏°
        local existingGui = playerGui:FindFirstChild("FPSGui")
        if existingGui then
            existingGui:Destroy()
            return
        end

        -- ‡∏™‡∏£‡πâ‡∏≤‡∏á ScreenGui
        local fpsGui = Instance.new("ScreenGui")
        fpsGui.Name = "FPSGui"
        fpsGui.ResetOnSpawn = false
        fpsGui.Parent = playerGui

        -- ‡∏Å‡∏£‡∏≠‡∏ö‡πÅ‡∏™‡∏î‡∏á FPS
        local frame = Instance.new("Frame")
        frame.Size = UDim2.new(0, 200, 0, 100)
        frame.Position = UDim2.new(1, -210, 0, 10) -- ‡∏°‡∏∏‡∏°‡∏ö‡∏ô‡∏Ç‡∏ß‡∏≤
        frame.BackgroundTransparency = 0.5
        frame.BackgroundColor3 = Color3.fromRGB(0,0,0)
        frame.Parent = fpsGui

        -- Label FPS ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤
        local fpsLabel = Instance.new("TextLabel")
        fpsLabel.Size = UDim2.new(1, -10, 0, 30)
        fpsLabel.Position = UDim2.new(0, 5, 0, 5)
        fpsLabel.BackgroundTransparency = 1
        fpsLabel.TextColor3 = Color3.fromRGB(255,255,255)
        fpsLabel.TextScaled = true
        fpsLabel.Font = Enum.Font.GothamSemibold
        fpsLabel.Text = "FPS: 0"
        fpsLabel.Parent = frame

        -- Label ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏∑‡πà‡∏ô
        local othersLabel = Instance.new("TextLabel")
        othersLabel.Size = UDim2.new(1, -10, 1, -40)
        othersLabel.Position = UDim2.new(0, 5, 0, 35)
        othersLabel.BackgroundTransparency = 1
        othersLabel.TextColor3 = Color3.fromRGB(180,180,255)
        othersLabel.TextScaled = true
        othersLabel.Font = Enum.Font.GothamSemibold
        othersLabel.Text = "Players FPS:"
        othersLabel.TextWrapped = true
        othersLabel.TextYAlignment = Enum.TextYAlignment.Top
        othersLabel.Parent = frame

        -- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï FPS
        local lastTime = tick()
        local frameCount = 0
        local runService = game:GetService("RunService")

        runService.RenderStepped:Connect(function()
            frameCount += 1
            local now = tick()
            if now - lastTime >= 1 then
                fpsLabel.Text = "FPS: " .. frameCount
                frameCount = 0
                lastTime = now

                -- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï FPS ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏∑‡πà‡∏ô (‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á)
                local players = game.Players:GetPlayers()
                local otherText = "Players FPS:\n"
                for _, p in pairs(players) do
                    if p ~= player then
                        otherText = otherText .. p.Name .. ": ?\n" -- ‡∏à‡∏£‡∏¥‡∏á ‡πÜ ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Å‡πá‡∏ö FPS ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏ô
                    end
                end
                othersLabel.Text = otherText
            end
        end)
    end
})

-- =========================
-- ‡∏õ‡∏∏‡πà‡∏° Teleport
-- =========================
local teleportEnabled = false
local floatingTeleportButton

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏õ‡∏¥‡∏î Teleport Mode
local function startTeleport()
    local UIS = game:GetService("UserInputService")
    local player = game.Players.LocalPlayer
    local mouse = player:GetMouse()

    local function onClick()
        if teleportEnabled then
            local targetPos = mouse.Hit.Position + Vector3.new(0, 3, 0) -- ‡∏¢‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
            local char = player.Character
            if char then
                local hrp = char:FindFirstChild("HumanoidRootPart")
                if hrp then
                    hrp.CFrame = CFrame.new(targetPos)
                end
            end
        end
    end

    -- ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° Event
    local clickConnection = mouse.Button1Down:Connect(onClick)
    
    -- ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡∏õ‡∏¥‡∏î
    return clickConnection
end

local teleportConnection

-- =========================
-- ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏Å‡∏ï‡∏¥‡πÉ‡∏ô‡∏´‡∏°‡∏ß‡∏î Teleport
TeleportTab:Toggle({
    Title = "‡∏Ñ‡∏£‡∏¥‡∏õ Teleport",
    Desc  = "‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î Teleport Mode",
    Value = false,
    Callback = function(state)
        teleportEnabled = state
        if state then
            teleportConnection = startTeleport()
        elseif teleportConnection then
            teleportConnection:Disconnect()
            teleportConnection = nil
        end
    end
})

-- =========================
-- ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢
local function createFloatingTeleportButton()
    if floatingTeleportButton then return end

    floatingTeleportButton = Instance.new("TextButton")
    floatingTeleportButton.Size = UDim2.new(0, 140, 0, 50)
    floatingTeleportButton.Position = UDim2.new(0.5, -70, 0.4, 0)
    floatingTeleportButton.AnchorPoint = Vector2.new(0.5, 0)
    floatingTeleportButton.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
    floatingTeleportButton.TextColor3 = Color3.fromRGB(255,255,255)
    floatingTeleportButton.Text = teleportEnabled and "Teleport: ON" or "Teleport: OFF"
    floatingTeleportButton.Parent = FloatingGui
    floatingTeleportButton.Active = true
    floatingTeleportButton.Draggable = true

    floatingTeleportButton.MouseButton1Click:Connect(function()
        teleportEnabled = not teleportEnabled
        floatingTeleportButton.Text = teleportEnabled and "Teleport: ON" or "Teleport: OFF"
        if teleportEnabled then
            teleportConnection = startTeleport()
        elseif teleportConnection then
            teleportConnection:Disconnect()
            teleportConnection = nil
        end
    end)
end

-- ‡∏õ‡∏∏‡πà‡∏° Toggle ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏≠‡∏¢
TeleportTab:Toggle({
    Title = "‡∏Ñ‡∏£‡∏¥‡∏õ Teleport (‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢)",
    Desc  = "‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Teleport",
    Value = false,
    Callback = function(state)
        if state then
            createFloatingTeleportButton()
        else
            if floatingTeleportButton then
                floatingTeleportButton:Destroy()
                floatingTeleportButton = nil
            end
            teleportEnabled = false
            if teleportConnection then
                teleportConnection:Disconnect()
                teleportConnection = nil
            end
        end
    end
})

-- =========================
-- ‡∏õ‡∏∏‡πà‡∏° Reduce Graphics V.1
-- =========================
FPSTab:Button({
    Title = "‡∏•‡∏î‡∏Å‡∏£‡∏≤‡∏ü‡∏ü‡∏¥‡∏Å V.1",
    Desc  = "‡∏ó‡∏∏‡∏Å Part ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ô‡∏µ‡∏¢‡∏ô",
    Callback = function()
        for _, obj in ipairs(workspace:GetDescendants()) do
            if obj:IsA("BasePart") then
                obj.Material = Enum.Material.SmoothPlastic
                obj.Reflectance = 0
            elseif obj:IsA("ParticleEmitter") or obj:IsA("Trail") then
                obj.Enabled = false
            end
        end
        print("‚úÖ ‡∏•‡∏î‡∏Å‡∏£‡∏≤‡∏ü‡∏ü‡∏¥‡∏Å V.1 ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢")
    end
})

-- =========================
-- ‡∏õ‡∏∏‡πà‡∏° Reduce Graphics V.2
-- =========================
FPSTab:Button({
    Title = "‡∏•‡∏î‡∏Å‡∏£‡∏≤‡∏ü‡∏ü‡∏¥‡∏Å V.2",
    Desc  = "‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ô‡∏µ‡∏¢‡∏ô + ‡∏•‡∏ö‡∏´‡∏°‡∏≠‡∏Å‡πÅ‡∏•‡∏∞‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå",
    Callback = function()
        -- ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ô‡∏µ‡∏¢‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô V.1
        for _, obj in ipairs(workspace:GetDescendants()) do
            if obj:IsA("BasePart") then
                obj.Material = Enum.Material.SmoothPlastic
                obj.Reflectance = 0
            elseif obj:IsA("ParticleEmitter") or obj:IsA("Trail") then
                obj.Enabled = false
            elseif obj:IsA("Decal") or obj:IsA("Texture") then
                obj:Destroy()
            end
        end

        -- ‡∏•‡∏ö‡∏´‡∏°‡∏≠‡∏Å/‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡∏à‡∏≤‡∏Å Lighting
        local Lighting = game:GetService("Lighting")
        Lighting.FogEnd = 100000
        Lighting.FogStart = 0
        Lighting.GlobalShadows = false
        print("‚úÖ ‡∏•‡∏î‡∏Å‡∏£‡∏≤‡∏ü‡∏ü‡∏¥‡∏Å V.2 ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢")
    end
})

-- =========================
-- ‡∏õ‡∏∏‡πà‡∏° ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏™‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
-- =========================
FPSTab:Button({
    Title = "‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏™‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠",
    Desc  = "‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡∏ß‡πà‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢",
    Callback = function()
        local Lighting = game:GetService("Lighting")
        Lighting.Brightness = (Lighting.Brightness or 2) + 1 -- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏µ‡∏•‡∏∞ 1
        print("‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏™‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢")
    end
})

-- =========================
-- AUTO TICKET FARM (EventTab)
-- =========================
EventTab:Toggle({
    Title = "Auto Ticket Farm",
    Desc = "‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏±‡πã‡∏ß‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü",
    Value = false,
    Callback = function(state)
        getgenv().AutoTicketFarm = state
        if state then
            task.spawn(function()
                while getgenv().AutoTicketFarm do
                    task.wait(0.1)
                    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                        local hrp = player.Character.HumanoidRootPart
                        local ticketsFolder = workspace:FindFirstChild("Game") 
                                             and workspace.Game:FindFirstChild("Effects") 
                                             and workspace.Game.Effects:FindFirstChild("Tickets")
                        if ticketsFolder then
                            for _, ticket in pairs(ticketsFolder:GetChildren()) do
                                if not getgenv().AutoTicketFarm then break end
                                local root = ticket:FindFirstChild("HumanoidRootPart")
                                if root then
                                    local pos = root.Position
                                    local downPos = CFrame.new(pos.X, pos.Y - 15, pos.Z)
                                    local upPos = CFrame.new(pos.X, pos.Y + 2, pos.Z)

                                    hrp.CFrame = downPos
                                    task.wait(0.15)
                                    hrp.CFrame = upPos
                                    task.wait(0.05)

                                    local success = false
                                    if game:GetService("ReplicatedStorage"):FindFirstChild("Events") 
                                       and game.ReplicatedStorage.Events:FindFirstChild("CollectTicket") then
                                        local ok, _ = pcall(function()
                                            game.ReplicatedStorage.Events.CollectTicket:FireServer(ticket)
                                        end)
                                        success = ok
                                    end

                                    local startTime = tick()
                                    repeat task.wait(0.05) until not ticket.Parent or tick() - startTime > 2
                                    if not ticket.Parent or success then
                                        hrp.CFrame = CFrame.new(pos.X, 1300, pos.Z)
                                        task.wait(0.3)
                                    end
                                end
                            end
                        end
                    end
                end
            end)
        end
    end
})

-- =========================
-- AUTO CARRY Toggle (‡πÉ‡∏ô MainTab)
-- =========================
MainTab:Toggle({
    Title = "Auto Carry",
    Desc = "‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏∏‡πâ‡∏°‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥",
    Value = false,
    Callback = function(state)
        getgenv().autoCarryEnabled = state
        if state then
            -- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Heartbeat ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
            if not getgenv().autoCarryConnection then
                getgenv().autoCarryConnection = game:GetService("RunService").Heartbeat:Connect(function()
                    if not getgenv().autoCarryEnabled then return end
                    local char = game.Players.LocalPlayer.Character
                    local hrp = char and char:FindFirstChild("HumanoidRootPart")
                    if not hrp then return end
                    for _, plr in ipairs(game.Players:GetPlayers()) do
                        if plr ~= game.Players.LocalPlayer and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
                            local otherHRP = plr.Character.HumanoidRootPart
                            local dist = (hrp.Position - otherHRP.Position).Magnitude
                            if dist <= 20 then
                                pcall(function()
                                    game:GetService("ReplicatedStorage"):WaitForChild("Events")
                                        :WaitForChild("Character")
                                        :WaitForChild("Interact")
                                        :FireServer("Carry", nil, plr.Name)
                                end)
                                task.wait(0.05)
                            end
                        end
                    end
                end)
            end
        end
    end
})

-- =========================
-- Infinite Slide (MainTab + Floating)
-- =========================
local RunService = game:GetService("RunService")
local player = game:GetService("Players").LocalPlayer

-- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
local infiniteSlideEnabled = false
local slideFrictionValue = -8
local cachedTables
local plrModel
local slideConnection
local floatingSlideButton

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ä‡πà‡∏ß‡∏¢
local keys = {
    "Friction","AirStrafeAcceleration","JumpHeight","RunDeaccel",
    "JumpSpeedMultiplier","JumpCap","SprintCap","WalkSpeedMultiplier",
    "BhopEnabled","Speed","AirAcceleration","RunAccel","SprintAcceleration"
}

local function hasAll(tbl)
    if type(tbl) ~= "table" then return false end
    for _, k in ipairs(keys) do if rawget(tbl, k) == nil then return false end end
    return true
end

local function setFriction(value)
    if not cachedTables then return end
    for _, t in ipairs(cachedTables) do
        pcall(function() t.Friction = value end)
    end
end

local function updatePlayerModel()
    local GameFolder = workspace:FindFirstChild("Game")
    local PlayersFolder = GameFolder and GameFolder:FindFirstChild("Players")
    if PlayersFolder then
        plrModel = PlayersFolder:FindFirstChild(player.Name)
    else
        plrModel = nil
    end
end

local function onHeartbeat()
    if not plrModel then setFriction(5); return end
    local success, currentState = pcall(function() return plrModel:GetAttribute("State") end)
    if success and currentState then
        if currentState == "Slide" then
            pcall(function() plrModel:SetAttribute("State", "EmotingSlide") end)
        elseif currentState == "EmotingSlide" then
            setFriction(slideFrictionValue)
        else
            setFriction(5)
        end
    else
        setFriction(5)
    end
end

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î Infinite Slide
local function toggleInfiniteSlide()
    infiniteSlideEnabled = not infiniteSlideEnabled

    if slideConnection then slideConnection:Disconnect(); slideConnection=nil end

    if infiniteSlideEnabled then
        cachedTables = {}
        for _, obj in ipairs(getgc(true)) do
            local success, result = pcall(function() if hasAll(obj) then return obj end end)
            if success and result then table.insert(cachedTables, result) end
        end
        updatePlayerModel()
        slideConnection = RunService.Heartbeat:Connect(onHeartbeat)
        player.CharacterAdded:Connect(function() wait(0.1); updatePlayerModel() end)
    else
        cachedTables = nil
        plrModel = nil
        setFriction(5)
    end

    -- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢
    if floatingSlideButton then
        floatingSlideButton.BackgroundColor3 = infiniteSlideEnabled and Color3.fromRGB(0,200,0) or Color3.fromRGB(200,0,0)
        floatingSlideButton.Text = infiniteSlideEnabled and "Infinite Slide: ON" or "Infinite Slide: OFF"
    end
end

-- =========================
-- ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏Å‡∏ï‡∏¥‡πÉ‡∏ô MainTab
MainTab:Toggle({
    Title="Infinite Slide",
    Desc="‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î Infinite Slide",
    Value=false,
    Callback=function(state)
        toggleInfiniteSlide()
    end
})

-- =========================
-- Slider ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤ Slide Friction ‡πÉ‡∏ô MainTab
SettingsTab:Slider({
    Title="Slide Friction",
    Desc="‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á‡∏™‡πÑ‡∏•‡∏î‡πå (‡∏ï‡πà‡∏≥=‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏ß‡πà‡∏≤)",
    Min=-500,
    Max=-1,
    Value=slideFrictionValue,
    Callback=function(val)
        slideFrictionValue = val
    end
})

-- =========================
-- ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢‡πÉ‡∏ô FloatingGui
local FloatingGui = PlayerGui:FindFirstChild("EvadeFloatingGui")
if not FloatingGui then
    FloatingGui = Instance.new("ScreenGui")
    FloatingGui.Name = "EvadeFloatingGui"
    FloatingGui.Parent = PlayerGui
    FloatingGui.ResetOnSpawn = false
    FloatingGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
end

local function createSlideFloatingButton()
    if floatingSlideButton then return end
    floatingSlideButton = Instance.new("TextButton")
    floatingSlideButton.Size = UDim2.new(0,150,0,50)
    floatingSlideButton.Position = UDim2.new(0.8,0,0.3,0)
    floatingSlideButton.AnchorPoint = Vector2.new(0.5,0.5)
    floatingSlideButton.BackgroundColor3 = infiniteSlideEnabled and Color3.fromRGB(0,200,0) or Color3.fromRGB(200,0,0)
    floatingSlideButton.TextColor3 = Color3.fromRGB(255,255,255)
    floatingSlideButton.Text = infiniteSlideEnabled and "Infinite Slide: ON" or "Infinite Slide: OFF"
    floatingSlideButton.TextScaled = true
    floatingSlideButton.Parent = FloatingGui
    floatingSlideButton.Active = true
    floatingSlideButton.Draggable = true
    Instance.new("UICorner", floatingSlideButton).CornerRadius = UDim.new(0,12)
    local border = Instance.new("UIStroke", floatingSlideButton)
    border.Thickness = 3
    border.Color = Color3.fromRGB(255,255,255)

    floatingSlideButton.MouseButton1Click:Connect(toggleInfiniteSlide)
end

MainTab:Button({
    Title="‡∏î‡∏∂‡∏á‡∏õ‡∏∏‡πà‡∏° Infinite Slide",
    Desc="‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Infinite Slide",
    Callback=createSlideFloatingButton
})

-- =========================
-- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏´‡∏•‡∏±‡∏Å
-- =========================
local Players = game:GetService("Players")
local player = Players.LocalPlayer

local currentSettings = {
    Speed = 1500,
    JumpCap = 1,
    AirStrafeAcceleration = 187
}

-- =========================
-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ Table ‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç
-- =========================
local requiredFields = {
    Friction=true, AirStrafeAcceleration=true, JumpHeight=true, RunDeaccel=true,
    JumpSpeedMultiplier=true, JumpCap=true, SprintCap=true, WalkSpeedMultiplier=true,
    BhopEnabled=true, Speed=true, AirAcceleration=true, RunAccel=true, SprintAcceleration=true
}

local function getMatchingTables()
    local matched = {}
    for _, obj in pairs(getgc(true)) do
        if typeof(obj) == "table" then
            local ok = true
            for field in pairs(requiredFields) do
                if rawget(obj, field) == nil then ok = false break end
            end
            if ok then
                table.insert(matched, obj)
            end
        end
    end
    return matched
end

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ñ‡πà‡∏≤
local function applyToTables()
    for _, tbl in ipairs(getMatchingTables()) do
        pcall(function()
            tbl.Speed = currentSettings.Speed
            tbl.JumpCap = currentSettings.JumpCap
            tbl.AirStrafeAcceleration = currentSettings.AirStrafeAcceleration
        end)
    end
end

-- =========================
-- ‡∏™‡∏£‡πâ‡∏≤‡∏á Slider ‡πÉ‡∏ô SettingsTab
-- =========================

-- Speed
SettingsTab:Slider({
    Title = "Speed",
    Min = 1450,
    Max = 1000000,
    Default = currentSettings.Speed,
    Callback = function(val)
        currentSettings.Speed = val
        applyToTables()
    end
})

-- JumpCap
SettingsTab:Slider({
    Title = "Jump Cap",
    Min = 0.1,
    Max = 5000,
    Default = currentSettings.JumpCap,
    Callback = function(val)
        currentSettings.JumpCap = val
        applyToTables()
    end
})

-- Strafe Acceleration
SettingsTab:Slider({
    Title = "Strafe Acceleration",
    Min = 200,
    Max = 1000000,
    Default = currentSettings.AirStrafeAcceleration,
    Callback = function(val)
        currentSettings.AirStrafeAcceleration = val
        applyToTables()
    end
})

-- Dropdown Apply Method
getgenv().ApplyMode = "Not Optimized"
SettingsTab:Dropdown({
    Title = "Apply Method",
    Options = {"Not Optimized", "Optimized"},
    Default = {getgenv().ApplyMode},
    MultipleOptions = false,
    Callback = function(option)
        getgenv().ApplyMode = option[1]
    end
})

-- =========================
-- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡πÉ‡∏´‡∏°‡πà
-- =========================
player.CharacterAdded:Connect(function()
    task.wait(1)
    applyToTables()
end)

-- =========================
-- ‡∏°‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏°
-- =========================
local downedESPEnabled = false
local downedBillboards = {}

local function updateDownedESP()
    -- ‡∏•‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡πà‡∏≤
    for plr, billboard in pairs(downedBillboards) do
        if billboard then billboard:Destroy() end
    end
    downedBillboards = {}

    if not downedESPEnabled then return end

    for _, plr in pairs(Players:GetPlayers()) do
        if plr ~= player and plr.Character then
            local humanoid = plr.Character:FindFirstChildOfClass("Humanoid")
            local root = plr.Character:FindFirstChild("HumanoidRootPart")
            if humanoid and root and humanoid.Health <= 0 then
                local billboard = Instance.new("BillboardGui")
                billboard.Name = "DownedESP"
                billboard.Adornee = root
                billboard.Size = UDim2.new(0, 150, 0, 50)
                billboard.StudsOffset = Vector3.new(0,3,0)
                billboard.AlwaysOnTop = true
                billboard.Parent = root

                local textLabel = Instance.new("TextLabel")
                textLabel.Size = UDim2.new(1,0,1,0)
                textLabel.BackgroundTransparency = 1
                textLabel.Text = "‡∏•‡πâ‡∏°"
                textLabel.TextColor3 = Color3.fromRGB(255,0,0)
                textLabel.TextScaled = true
                textLabel.Font = Enum.Font.GothamBlack
                textLabel.Parent = billboard

                downedBillboards[plr] = billboard
            end
        end
    end
end

-- ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏ó‡∏∏‡∏Å 0.5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
task.spawn(function()
    while true do
        if downedESPEnabled then
            updateDownedESP()
        else
            -- ‡∏•‡∏ö billboard ‡∏ó‡∏∏‡∏Å‡∏≠‡∏±‡∏ô‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏¥‡∏î
            for plr, billboard in pairs(downedBillboards) do
                if billboard then billboard:Destroy() end
            end
            downedBillboards = {}
        end
        task.wait(0.5)
    end
end)

-- Toggle ‡πÉ‡∏ô VisualsTab
VisualsTab:Toggle({
    Title="‡∏°‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏°",
    Desc="‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° '‡∏•‡πâ‡∏°' ‡∏™‡∏µ‡πÅ‡∏î‡∏á‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏´‡∏±‡∏ß‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÄ‡∏•‡∏∑‡∏≠‡∏î 0",
    Value=false,
    Callback=function(state)
        downedESPEnabled = state
    end
})

EventTab:Button({
    Title = "‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏±‡πã‡∏ß‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡πÅ‡∏°‡∏û",
    Desc = "‡πÄ‡∏ó‡πÄ‡∏•‡∏û‡∏≠‡∏£‡πå‡∏ï‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏±‡πã‡∏ß‡∏ó‡∏µ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏à‡∏ô‡∏´‡∏°‡∏î",
    Callback = function()
        local Players = game:GetService("Players")
        local LocalPlayer = Players.LocalPlayer
        local character = LocalPlayer.Character
        if not character then return end
        local hrp = character:FindFirstChild("HumanoidRootPart")
        if not hrp then return end

        local ticketFolder = workspace:FindFirstChild("Game")
            and workspace.Game:FindFirstChild("Effects")
            and workspace.Game.Effects:FindFirstChild("Tickets")
        if not ticketFolder then return end

        -- ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏±‡πã‡∏ß
        task.spawn(function()
            while true do
                local tickets = {}
                for _, ticketModel in ipairs(ticketFolder:GetChildren()) do
                    if ticketModel:IsA("Model") then
                        local part = ticketModel:FindFirstChildWhichIsA("BasePart")
                        if part then
                            table.insert(tickets, part)
                        end
                    end
                end

                if #tickets == 0 then
                    break -- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ï‡∏±‡πã‡∏ß‡πÅ‡∏•‡πâ‡∏ß ‡∏´‡∏¢‡∏∏‡∏î
                end

                for _, part in ipairs(tickets) do
                    if hrp and part then
                        -- ‡πÄ‡∏ó‡πÄ‡∏•‡∏û‡∏≠‡∏£‡πå‡∏ï‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πã‡∏ß
                        hrp.CFrame = CFrame.new(part.Position + Vector3.new(0,3,0))
                        task.wait(1) -- ‡∏£‡∏≠‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Å‡πá‡∏ö
                    end
                end
            end
        end)
    end
})

-- =========================
-- Notify
-- =========================
Window:Notify({
Title="Evade Hub",
Desc="‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß! ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡πÄ‡∏°‡∏ô‡∏π‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á Desktop ‡πÅ‡∏•‡∏∞ ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠",
Time=4
})
